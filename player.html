<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bingo Game - Player Sheet</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Roboto:wght@300;400&display=swap" rel="stylesheet">

    <!-- Add to <head> section -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
</head>
<body class="player-page">
    <div class="container">
        <header class="player-header">
            <h1><i class="fas fa-bingo-card"></i> My Bingo Card</h1>
            <div class="player-id">Player ID: <span id="player-id">P-${Math.floor(Math.random() * 1000)}</span></div>
        </header>

        <main>
            <div class="game-status">
                <div class="status-item">
                    <h3>Current Number</h3>
                    <div id="player-current-number" class="number-display">--</div>
                </div>
                <div class="status-item">
                    <h3>Numbers Called</h3>
                    <div id="called-count" class="count-display">0</div>
                </div>
                <div class="status-item">
                    <h3>My Marked</h3>
                    <div id="marked-count" class="count-display">0</div>
                </div>
            </div>
            
            <div class="bingo-card-container">
                <div class="bingo-header">
                    <div class="bingo-letter">B</div>
                    <div class="bingo-letter">I</div>
                    <div class="bingo-letter">N</div>
                    <div class="bingo-letter">G</div>
                    <div class="bingo-letter">O</div>
                </div>
                
                <div class="bingo-card" id="bingo-card">
                    <!-- Bingo card will be generated by JavaScript -->
                </div>
                
                <div class="bingo-actions">
                    <button id="call-bingo-btn" class="btn bingo-btn">
                        <i class="fas fa-bullhorn"></i> Call BINGO!
                    </button>
                    <button id="new-card-btn" class="btn reset-btn">
                        <i class="fas fa-redo"></i> New Card
                    </button>
                </div>
            </div>
            
            <div class="player-info">
                <div class="card">
                    <h3><i class="fas fa-history"></i> Recent Numbers</h3>
                    <div id="player-history" class="history-container small">
                        <p class="empty-history">No numbers drawn yet</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3><i class="fas fa-gamepad"></i> How to Play</h3>
                    <ol>
                        <li>Mark numbers on your card as they are called</li>
                        <li>Complete a line (horizontal, vertical, or diagonal) to win</li>
                        <li>Click "Call BINGO!" when you have a winning card</li>
                        <li>Free space in the center is automatically marked</li>
                    </ol>
                </div>
            </div>
        </main>
        
        <footer>
            <p>Connected to Bingo Game Host</p>
            <p id="connection-status" class="connected"><i class="fas fa-wifi"></i> Connected</p>
        </footer>
    </div>

    <!-- Bingo Call Modal -->
    <div id="bingo-call-modal" class="modal">
        <div class="modal-content">
            <h2><i class="fas fa-bullhorn"></i> Call BINGO!</h2>
            <p>Are you sure you have a winning BINGO card?</p>
            <div class="winning-line-info">
                <p>Select your winning line:</p>
                <select id="winning-line">
                    <option value="row1">Top Row (B-I-N-G-O)</option>
                    <option value="row2">Second Row</option>
                    <option value="row3">Third Row (Free Space included)</option>
                    <option value="row4">Fourth Row</option>
                    <option value="row5">Bottom Row</option>
                    <option value="col1">First Column (B)</option>
                    <option value="col2">Second Column (I)</option>
                    <option value="col3">Third Column (N)</option>
                    <option value="col4">Fourth Column (G)</option>
                    <option value="col5">Fifth Column (O)</option>
                    <option value="diag1">Diagonal (Top-left to Bottom-right)</option>
                    <option value="diag2">Diagonal (Top-right to Bottom-left)</option>
                </select>
            </div>
            <div class="modal-buttons">
                <button id="confirm-bingo" class="btn bingo-btn">Yes, I have BINGO!</button>
                <button id="cancel-bingo" class="btn reset-btn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="modal">
        <div class="modal-content">
            <h2><i class="fas fa-check-circle"></i> BINGO Called Successfully!</h2>
            <p>Your BINGO call has been sent to the host. Wait for confirmation.</p>
            <button id="close-success" class="btn draw-btn">OK</button>
        </div>
    </div>

    <script src="player.js"></script>
</body>
</html>